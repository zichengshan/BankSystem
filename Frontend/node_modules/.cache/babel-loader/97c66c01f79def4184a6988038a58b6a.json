{"ast":null,"code":"var _jsxFileName = \"/Users/zicheng.s/Documents/UC_Irvine_Info/Class/2022Spring/266P/Project/Bank_React/my-bank/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  const [loginFormData, setLoginFormData] = React.useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [loginStatusText, setLoginStatusText] = React.useState(\"\");\n  /**\n   * loginFormData will be updated everytime the username or password entered are changed\n   * @param event\n   */\n\n  function updateUserLoginData(event) {\n    event.preventDefault();\n    setLoginFormData(prevFormData => {\n      return { ...prevFormData,\n        [event.target.name]: event.target.value\n      };\n    });\n  }\n  /**\n   * When user submit the form, send loginFormData through API to verify identity\n   * @param event\n   */\n\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch('http://localhost:8081/bankSys/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(loginFormData)\n    }).then(response => response.json()).then(data => {\n      if (data.status === 200) {\n        setLoginStatusText(\"Login Successfully!\"); // Call the changeLoginStatus() function passed from App.js to update the user login data\n\n        props.updateUserInfo(data);\n      } else if (data.status === 500) {\n        setLoginStatusText(\"Username or password is wrong\");\n      }\n    }).catch(error => {\n      setLoginStatusText(`Error: ${error}`);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"login-title\",\n      children: \"Login Now\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"username\",\n        name: \"username\",\n        onChange: updateUserLoginData,\n        value: loginFormData.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"password\",\n        name: \"password\",\n        onChange: updateUserLoginData,\n        value: loginFormData.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: loginStatusText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"xCRo3Jd7M0TF6lpoRjklSJ41LbI=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Login","props","loginFormData","setLoginFormData","useState","username","password","loginStatusText","setLoginStatusText","updateUserLoginData","event","preventDefault","prevFormData","target","name","value","handleSubmit","fetch","method","headers","body","JSON","stringify","then","response","json","data","status","updateUserInfo","catch","error"],"sources":["/Users/zicheng.s/Documents/UC_Irvine_Info/Class/2022Spring/266P/Project/Bank_React/my-bank/src/components/Login.js"],"sourcesContent":["import React from \"react\";\n\nexport default function Login(props) {\n    const [loginFormData, setLoginFormData] = React.useState(\n        {\n            username: \"\",\n            password: \"\"\n        }\n    )\n    const [loginStatusText, setLoginStatusText] = React.useState(\"\")\n\n    /**\n     * loginFormData will be updated everytime the username or password entered are changed\n     * @param event\n     */\n    function updateUserLoginData(event) {\n        event.preventDefault()\n        setLoginFormData(prevFormData => {\n            return {\n                ...prevFormData,\n                [event.target.name]: event.target.value\n            }\n        })\n    }\n\n    /**\n     * When user submit the form, send loginFormData through API to verify identity\n     * @param event\n     */\n    function handleSubmit(event) {\n        event.preventDefault()\n        fetch('http://localhost:8081/bankSys/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(loginFormData),\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    setLoginStatusText(\"Login Successfully!\")\n                    // Call the changeLoginStatus() function passed from App.js to update the user login data\n                    props.updateUserInfo(data)\n                } else if (data.status === 500) {\n                    setLoginStatusText(\"Username or password is wrong\")\n                }\n            })\n            .catch((error) => {\n                setLoginStatusText(`Error: ${error}`)\n            });\n    }\n\n    return (\n        <div className=\"login\">\n            <h1 className=\"login-title\">Login Now</h1>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"username\"\n                    name=\"username\"\n                    onChange={updateUserLoginData}\n                    value={loginFormData.username}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"password\"\n                    name=\"password\"\n                    onChange={updateUserLoginData}\n                    value={loginFormData.password}\n                />\n                <button>Login</button>\n            </form>\n            <p>{loginStatusText}</p>\n        </div>\n    )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;EAAA;;EACjC,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCJ,KAAK,CAACK,QAAN,CACtC;IACIC,QAAQ,EAAE,EADd;IAEIC,QAAQ,EAAE;EAFd,CADsC,CAA1C;EAMA,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCT,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9C;EAEA;AACJ;AACA;AACA;;EACI,SAASK,mBAAT,CAA6BC,KAA7B,EAAoC;IAChCA,KAAK,CAACC,cAAN;IACAR,gBAAgB,CAACS,YAAY,IAAI;MAC7B,OAAO,EACH,GAAGA,YADA;QAEH,CAACF,KAAK,CAACG,MAAN,CAAaC,IAAd,GAAqBJ,KAAK,CAACG,MAAN,CAAaE;MAF/B,CAAP;IAIH,CALe,CAAhB;EAMH;EAED;AACJ;AACA;AACA;;;EACI,SAASC,YAAT,CAAsBN,KAAtB,EAA6B;IACzBA,KAAK,CAACC,cAAN;IACAM,KAAK,CAAC,qCAAD,EAAwC;MACzCC,MAAM,EAAE,MADiC;MAEzCC,OAAO,EAAE;QACL,gBAAgB;MADX,CAFgC;MAKzCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,aAAf;IALmC,CAAxC,CAAL,CAOKqB,IAPL,CAOUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPtB,EAQKF,IARL,CAQUG,IAAI,IAAI;MACV,IAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;QACrBnB,kBAAkB,CAAC,qBAAD,CAAlB,CADqB,CAErB;;QACAP,KAAK,CAAC2B,cAAN,CAAqBF,IAArB;MACH,CAJD,MAIO,IAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;QAC5BnB,kBAAkB,CAAC,+BAAD,CAAlB;MACH;IACJ,CAhBL,EAiBKqB,KAjBL,CAiBYC,KAAD,IAAW;MACdtB,kBAAkB,CAAE,UAASsB,KAAM,EAAjB,CAAlB;IACH,CAnBL;EAoBH;;EAED,oBACI;IAAK,SAAS,EAAC,OAAf;IAAA,wBACI;MAAI,SAAS,EAAC,aAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAM,QAAQ,EAAEd,YAAhB;MAAA,wBACI;QACI,IAAI,EAAC,MADT;QAEI,WAAW,EAAC,UAFhB;QAGI,IAAI,EAAC,UAHT;QAII,QAAQ,EAAEP,mBAJd;QAKI,KAAK,EAAEP,aAAa,CAACG;MALzB;QAAA;QAAA;QAAA;MAAA,QADJ,eAQI;QACI,IAAI,EAAC,MADT;QAEI,WAAW,EAAC,UAFhB;QAGI,IAAI,EAAC,UAHT;QAII,QAAQ,EAAEI,mBAJd;QAKI,KAAK,EAAEP,aAAa,CAACI;MALzB;QAAA;QAAA;QAAA;MAAA,QARJ,eAeI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAfJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAmBI;MAAA,UAAIC;IAAJ;MAAA;MAAA;MAAA;IAAA,QAnBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH;;GA1EuBP,K;;KAAAA,K"},"metadata":{},"sourceType":"module"}