{"ast":null,"code":"var _jsxFileName = \"/Users/zicheng.s/Documents/UC_Irvine_Info/Class/2022Spring/266P/Project/Bank_React/my-bank/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // zishan01\n// 12345\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n\n  const [status, setStatus] = React.useState(\"\");\n  const [formData, setFormData] = React.useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  function checkUsername() {\n    const regex = /[_\\\\-\\\\.0-9a-z]/;\n    let result = true;\n\n    for (let char of formData.username) {\n      if (char.match(regex) === null) {\n        result = false;\n      }\n    }\n\n    console.log(result);\n  } // function checkPassword() {\n  //\n  // }\n\n\n  function handleChange(event) {\n    event.preventDefault();\n    console.log(event.target.value);\n    setFormData(prevFormData => {\n      return { ...prevFormData,\n        [event.target.name]: event.target.value\n      };\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch('http://localhost:8081/bankSys/user/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(response => response.json()).then(data => {\n      // setBalance(data.data.user.balance)\n      if (data.status === 200) {\n        setStatus(`Success: msg: ${data.msg}`);\n      } else {\n        setStatus(`This username is used, please try another one!`);\n      }\n    }).catch(error => {\n      setStatus(`Error: ${error}`);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Welcome to register page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: checkUsername,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"username\",\n        name: \"username\",\n        onChange: handleChange,\n        value: formData.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"password\",\n        name: \"password\",\n        onChange: handleChange,\n        value: formData.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"RUdU60gtpbC+t2fBsTbOYXq/H2U=\");\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","Register","status","setStatus","useState","formData","setFormData","username","password","checkUsername","regex","result","char","match","console","log","handleChange","event","preventDefault","target","value","prevFormData","name","handleSubmit","fetch","method","headers","body","JSON","stringify","then","response","json","data","msg","catch","error"],"sources":["/Users/zicheng.s/Documents/UC_Irvine_Info/Class/2022Spring/266P/Project/Bank_React/my-bank/src/components/Register.js"],"sourcesContent":["import React from \"react\";\n// zishan01\n// 12345\n\nexport default function Register() {\n    const [status, setStatus] = React.useState(\"\")\n    const [formData, setFormData] = React.useState(\n        {\n            username: \"\",\n            password: \"\"\n        }\n    )\n\n    function checkUsername(){\n        const regex = /[_\\\\-\\\\.0-9a-z]/\n        let result = true\n        for (let char of formData.username){\n            if(char.match(regex) === null){\n                result = false\n            }\n        }\n        console.log(result)\n    }\n\n    // function checkPassword() {\n    //\n    // }\n\n    function handleChange(event) {\n        event.preventDefault()\n        console.log(event.target.value)\n        setFormData(prevFormData => {\n            return {\n                ...prevFormData,\n                [event.target.name]: event.target.value\n            }\n        })\n    }\n\n    function handleSubmit(event){\n        event.preventDefault()\n\n        fetch('http://localhost:8081/bankSys/user/create', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(formData),\n        })\n            .then(response => response.json())\n            .then(data => {\n                // setBalance(data.data.user.balance)\n                if(data.status === 200){\n                    setStatus(`Success: msg: ${data.msg}`)\n                }\n                else{\n                    setStatus(`This username is used, please try another one!`)\n                }\n            })\n            .catch((error) => {\n                setStatus(`Error: ${error}`)\n            });\n    }\n\n\n    return (\n        <div className=\"register\">\n            <h3>Welcome to register page</h3>\n            <form onSubmit={checkUsername}>\n                <input\n                    type=\"text\"\n                    placeholder=\"username\"\n                    name=\"username\"\n                    onChange={handleChange}\n                    value={formData.username}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"password\"\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={formData.password}\n                />\n                <button>Register</button>\n            </form>\n            <p>{status}</p>\n        </div>\n    )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;;;AAEA,eAAe,SAASC,QAAT,GAAoB;EAAA;;EAC/B,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBH,KAAK,CAACI,QAAN,CAAe,EAAf,CAA5B;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,KAAK,CAACI,QAAN,CAC5B;IACIG,QAAQ,EAAE,EADd;IAEIC,QAAQ,EAAE;EAFd,CAD4B,CAAhC;;EAOA,SAASC,aAAT,GAAwB;IACpB,MAAMC,KAAK,GAAG,iBAAd;IACA,IAAIC,MAAM,GAAG,IAAb;;IACA,KAAK,IAAIC,IAAT,IAAiBP,QAAQ,CAACE,QAA1B,EAAmC;MAC/B,IAAGK,IAAI,CAACC,KAAL,CAAWH,KAAX,MAAsB,IAAzB,EAA8B;QAC1BC,MAAM,GAAG,KAAT;MACH;IACJ;;IACDG,OAAO,CAACC,GAAR,CAAYJ,MAAZ;EACH,CAlB8B,CAoB/B;EACA;EACA;;;EAEA,SAASK,YAAT,CAAsBC,KAAtB,EAA6B;IACzBA,KAAK,CAACC,cAAN;IACAJ,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACE,MAAN,CAAaC,KAAzB;IACAd,WAAW,CAACe,YAAY,IAAI;MACxB,OAAO,EACH,GAAGA,YADA;QAEH,CAACJ,KAAK,CAACE,MAAN,CAAaG,IAAd,GAAqBL,KAAK,CAACE,MAAN,CAAaC;MAF/B,CAAP;IAIH,CALU,CAAX;EAMH;;EAED,SAASG,YAAT,CAAsBN,KAAtB,EAA4B;IACxBA,KAAK,CAACC,cAAN;IAEAM,KAAK,CAAC,2CAAD,EAA8C;MAC/CC,MAAM,EAAE,MADuC;MAE/CC,OAAO,EAAE;QACL,gBAAgB;MADX,CAFsC;MAK/CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAexB,QAAf;IALyC,CAA9C,CAAL,CAOKyB,IAPL,CAOUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPtB,EAQKF,IARL,CAQUG,IAAI,IAAI;MACV;MACA,IAAGA,IAAI,CAAC/B,MAAL,KAAgB,GAAnB,EAAuB;QACnBC,SAAS,CAAE,iBAAgB8B,IAAI,CAACC,GAAI,EAA3B,CAAT;MACH,CAFD,MAGI;QACA/B,SAAS,CAAE,gDAAF,CAAT;MACH;IACJ,CAhBL,EAiBKgC,KAjBL,CAiBYC,KAAD,IAAW;MACdjC,SAAS,CAAE,UAASiC,KAAM,EAAjB,CAAT;IACH,CAnBL;EAoBH;;EAGD,oBACI;IAAK,SAAS,EAAC,UAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAM,QAAQ,EAAE3B,aAAhB;MAAA,wBACI;QACI,IAAI,EAAC,MADT;QAEI,WAAW,EAAC,UAFhB;QAGI,IAAI,EAAC,UAHT;QAII,QAAQ,EAAEO,YAJd;QAKI,KAAK,EAAEX,QAAQ,CAACE;MALpB;QAAA;QAAA;QAAA;MAAA,QADJ,eAQI;QACI,IAAI,EAAC,MADT;QAEI,WAAW,EAAC,UAFhB;QAGI,IAAI,EAAC,UAHT;QAII,QAAQ,EAAES,YAJd;QAKI,KAAK,EAAEX,QAAQ,CAACG;MALpB;QAAA;QAAA;QAAA;MAAA,QARJ,eAeI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAfJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAmBI;MAAA,UAAIN;IAAJ;MAAA;MAAA;MAAA;IAAA,QAnBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH;;GApFuBD,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}